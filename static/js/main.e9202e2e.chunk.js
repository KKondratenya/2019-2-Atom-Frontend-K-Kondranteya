(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{12:function(e,t,a){"use strict";t.a={SET_CITY:"SET_CITY",SET_WEATHER:"SET_WEATHER"}},14:function(e,t,a){var n=a(43).default;e.exports=n()},19:function(e,t,a){},30:function(e,t,a){e.exports=a(42)},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),r=a.n(i),l=(a(35),a(11)),o=a(14),m=a.n(o),u=a(6),s=a(9),d=a(12);a(19);var E=function(e){var t=e.city,a=e.index;return c.a.createElement(u.b,{to:"/city",style:{textDecoration:"none"}},c.a.createElement("div",{className:"city",onClick:function(){return e=a,void m.a.dispatch({type:d.a.SET_CITY,payload:e});var e}},c.a.createElement("div",{className:"city-information"},c.a.createElement("div",{className:"name"},t.name),c.a.createElement("div",{className:"temp"},t.main.temp),c.a.createElement("div",{className:"celsium"},"\xb0C")),c.a.createElement("div",{className:"weather-city"},c.a.createElement("div",null,"Humidity ",t.main.humidity),c.a.createElement("div",null,t.wind.speed," m/s"),c.a.createElement("div",{className:"weather-temp"},t.main.temp_max,"/",t.main.temp_min," \xb0C"))))};var f=Object(l.b)((function(e){return{city:e.weather.cities}}))((function(e){var t,a=e.city;return Object(n.useEffect)((function(){}),[]),t=a.length?c.a.createElement("div",null,a.map((function(e,t){return c.a.createElement(E,{key:String(t),city:e,index:t})}))):null,c.a.createElement("div",null,c.a.createElement("div",{className:"heading"},c.a.createElement("div",null,c.a.createElement("div",null,"Manage cities"),c.a.createElement(u.b,{to:"/geo",style:{textDecoration:"none"}},"\u0413\u0435\u043e"))),t)})),v=a(17);var p=Object(l.b)((function(e){return{city:e.weather.cities[e.weather.index]}}))((function(e){var t,a=e.city,i=Object(n.useState)(!1),r=Object(v.a)(i,2),l=r[0],o=r[1];return console.log(a.id),Object(n.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(a.id,"&appid=7ae3973c1cff0f607e622fa2bcc37d48")).then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),t=l?c.a.createElement("div",null,"cityDaily.id"):null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(u.b,{to:"/",style:{textDecoration:"none"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f")),c.a.createElement("div",null,c.a.createElement("div",{className:"city-name"},a.name),c.a.createElement("div",{className:"temperature"},c.a.createElement("div",{className:"temp-info"},a.main.temp),c.a.createElement("div",{className:"celsium-info"},"\xb0C")),c.a.createElement("div",{className:"weather"},a.weather[0].main),t))}));var h=function(e){e.city;var t,a=Object(n.useState)(!1),i=Object(v.a)(a,2),r=i[0],l=i[1];return Object(n.useEffect)((function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;console.log(t,a),fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t.toFixed(1),"&lon=").concat(a.toFixed(1),"&appid=7ae3973c1cff0f607e622fa2bcc37d48")).then((function(e){return e.json()})).then((function(e){return l(e)}))})):console.log("\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430")}),[]),t=r?c.a.createElement("div",null,c.a.createElement("div",{className:"city-name"},r.name),c.a.createElement("div",{className:"temperature"},c.a.createElement("div",{className:"temp-info"},r.main.temp),c.a.createElement("div",{className:"celsium-info"},"\xb0C")),c.a.createElement("div",{className:"weather"},r.weather[0].main)):null,c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(u.b,{to:"/",style:{textDecoration:"none"}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f")),t)};a(41);var y=function(){var e=function(){fetch("https://api.openweathermap.org/data/2.5/box/city?bbox=12,32,15,37,10&appid=7ae3973c1cff0f607e622fa2bcc37d48",{headers:{origin:document.origin}}).then((function(e){return e.json()})).then((function(e){return function(e){m.a.dispatch({type:d.a.SET_WEATHER,payload:e})}(e.list)}))};return Object(n.useEffect)((function(){e()}),[]),c.a.createElement(u.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/city"},c.a.createElement(p,null)),c.a.createElement(s.a,{path:"/geo"},c.a.createElement(h,null)),c.a.createElement(s.a,{path:""},c.a.createElement("div",{className:"App"},c.a.createElement(f,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(l.a,{store:m.a},c.a.createElement(y,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},43:function(e,t,a){"use strict";a.r(t);var n=a(10),c=a(27),i=a(29),r=a(23),l=a(12),o={cities:[],index:0};var m=Object(n.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a.SET_WEATHER:return Object(r.a)({},e,{cities:Object(i.a)(t.payload)});case l.a.SET_CITY:return Object(r.a)({},e,{index:t.payload});default:return e}}});a.d(t,"default",(function(){return d}));var u=[c.a],s=[n.a.apply(void 0,u)];function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.d.apply(void 0,[m,e].concat(s))}}},[[30,1,2]]]);
//# sourceMappingURL=main.e9202e2e.chunk.js.map